{"version":3,"file":"index.js","sources":["../src/js/chart.js","../src/js/main.js"],"sourcesContent":["export function createChart(canvaId, labels, data) {\n    new Chart(document.getElementById(canvaId), {\n        type: \"line\",\n        data: {\n            labels,\n            datasets: [{\n                label: \"\",\n                data,\n                borderWidth: 2,\n                // tension:0.4,\n            }]\n        },\n        options: {\n            plugins: {\n                legend: { display: false },\n                // scales: {\n                // y: { beginAtZero: true }\n                // }   \n            }\n        }\n    })\n}","import { createChart } from \"./chart.js\";\n\n\nconst refs = {\n    toggleThemeBtn: document.querySelector(\".toggle-theme\"),\n    menuToggle: document.querySelector(\"button.menu-toggle\"),\n    sidebar: document.querySelector(\".sidebar\"),\n    overlay: document.querySelector(\".overlay\"),\n    container: document.querySelector(\".container\"),\n    navLinks: document.querySelectorAll(\".sidebar nav a\"),\n    content: document.getElementById('page-content'),\n    links: document.querySelectorAll('[data-page]'),\n}\n\nif (localStorage.getItem(\"theme\") === \"dark\") {\n    document.body.classList.add(\"dark\");\n    refs.toggleThemeBtn.textContent = \"Light mode\";\n} \n\n// * THEME COLOR\n\nrefs.toggleThemeBtn.addEventListener(\"click\", e => {\n    e.preventDefault()\n    document.body.classList.toggle(\"dark\");\n    if (document.body.classList.contains(\"dark\")) {\n        localStorage.setItem(\"theme\", \"dark\");\n        refs.toggleThemeBtn.textContent = \"Light mode\";\n    } else {\n        localStorage.setItem(\"theme\", \"light\");\n        refs.toggleThemeBtn.textContent = \"Dark mode\";\n    }\n})\n\n// * MOBILE MENU\n\nrefs.menuToggle.addEventListener(\"click\", e => {\n    e.preventDefault()\n    refs.sidebar.classList.toggle(\"active\");\n    refs.overlay.style.display = refs.sidebar.classList.contains(\"active\") ? \"block\" : \"none\";\n}) \n\nrefs.overlay.addEventListener(\"click\", e => {\n    refs.sidebar.classList.remove(\"active\");\n    refs.overlay.style.display = \"none\";\n})\n\n// * LOADING PAGE\n\nconst initRegistry = {};\n\nasync function loadPage(page) {\n    try {\n        const htmlRes = await fetch(`../partials/${page}.html`);\n        if (!htmlRes.ok) throw new Error('Partial not found');\n        const html = await htmlRes.text();\n        refs.content.innerHTML = html;\n\n        let data = null;\n        try {\n            const dataRes = await fetch(`../data/${page}.json`);\n            if (dataRes.ok) data = await dataRes.json();\n        } catch (e) {\n            console.log(`Немає даних для ${page} — це нормально`);            \n        }\n        if (initRegistry[page]) {\n            initRegistry[page](data);\n        } else {\n            console.warn(`Ініціалізатора для сторінки \"${page}\" не знайдено`);\n        }\n        refs.navLinks.forEach(link => {\n            link.classList.toggle('active', link.dataset.page === page);\n        });\n\n    } catch (err) {\n        refs.container.innerHTML = `<h2 style=\"color: red; text-align: center;\">Сторінка не знайдена</h2>`;\n        console.error(err);\n    }\n}\n\n\nfunction initDashboard(data) {\n    if (!data) return;\n    console.log(\"INIT DASHBOARD ЗАПУЩЕНО!\");\n\n\n    document.querySelector(\"#totalUsers\").textContent = data.stats.totalUsers;\n    document.querySelector(\"#activeUsers\").textContent = data.stats.activeUsers;\n    document.querySelector(\"#newUsersToday\").textContent = data.stats.newUsersToday;\n    document.querySelector(\"#revenueToday\").textContent = `$${data.stats.revenueToday}`;\n\n    createChart(\"weeklyRevenueChart\", data.weeklyRevenue.labels, data.weeklyRevenue.values),\n    createChart(\"activeSessionsChart\", data.activeSessions.labels, data.activeSessions.values)\n}\n\ninitRegistry['dashboard'] = initDashboard;\n\n\nrefs.links.forEach(link => {\n    link.addEventListener(\"click\", e => {\n        e.preventDefault()\n        refs.navLinks.forEach(link => link.classList.remove(\"active\"));\n        link.classList.add(\"active\")\n\n        const page = link.dataset.page;\n        loadPage(page)\n    })\n})\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    loadPage('dashboard');\n    // initDashboard('dashboard.json');\n});\n\n\n// * LOADING DATA\n\n"],"names":["createChart","canvaId","labels","data","refs","initRegistry","loadPage","page","htmlRes","html","dataRes","link","err","initDashboard","e"],"mappings":"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"}